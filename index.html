<!DOCTYPE html>
<html>

<head>
    <title>Box - a 2D puzzle game</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="octicons/octicons.css">
    <link href="style.css" rel="stylesheet" type="text/css">
</head>

<body>
    <a href="https://github.com/cristiandima/box" class="github-corner">
        <svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;">
            <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
            <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
            <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
        </svg>
    </a>
    <style>
    .github-corner:hover .octo-arm {
        animation: octocat-wave 560ms ease-in-out
    }
    
    @keyframes octocat-wave {
        0%,
        100% {
            transform: rotate(0)
        }
        20%,
        60% {
            transform: rotate(-25deg)
        }
        40%,
        80% {
            transform: rotate(10deg)
        }
    }
    
    @media (max-width:500px) {
        .github-corner:hover .octo-arm {
            animation: none
        }
        .github-corner .octo-arm {
            animation: octocat-wave 560ms ease-in-out
        }
    }
    </style>
    <div id="logo">
        <img src="logo.png" width=50 />
        <h1>box</h1>
    </div>
    <div id="game-levels">
    </div>
    <div style="clear: both;"></div>
    <div id="game-area">
        <canvas id="game-canvas" width=800 height=600>
        </canvas>
        <div id="maker-menu">
            <button type="button" name="button" id="play-button">TEST</button>
            <button type="button" name="button" id="save-button">SAVE</button>
            <br>
            <button type="button" name="button" id="wall-button">WALL</button>
            <button type="button" name="button" id="v-window-button">V-WINDOW</button>
            <button type="button" name="button" id="h-window-button">H-WINDOW</button>
            <button type="button" name="button" id="player-button">PLAYER</button>
            <button type="button" name="button" id="platform-button">PLATFORM</button>
            <button type="button" name="button" id="mine-button">MINE</button>
            <button type="button" name="button" id="square-button">SQUARE</button>
            <button type="button" name="button" id="door-button">DOOR</button>
            <button type="button" name="button" id="portal-button">PORTAL</button>
            <button type="button" name="button" id="lightsource-button">LIGHT SOURCE</button>
            <button type="button" name="button" id="lightreceiver-button">LIGHT RECEIVER</button>
            <button type="button" name="button" id="lightconnector-button">LIGHT CONNECTOR</button>
            <button type="button" name="button" id="box-button">BOX</button>
        </div>
    </div>
    <div id="game-menu">
        <span id="sound-button" class="mega-octicon octicon-unmute"></span>
        <span class="mega-octicon octicon-three-bars"></span>
        <span class="mega-octicon octicon-pencil"></span>
        <span class="mega-octicon octicon-info"></span>
    </div>
    <div id="overlay">
        <div id="container">
            <div id="help-container">
                <h1>Game Controls</h1>
                <p>W, A, S, D - movement</p>
                <p>E - grab</p>
                <p>Mouse click - click on a light connector (small circle) to connect it to a light source (circle in a square) or a light platform (larger circle) or other light connectors.</p>
                <p>ESC - unselect currently selected light connector</p>
                <h1>Game Mechanics</h1>
                <p>The goal of the game is to grab the box. The box is usually behind an obstacle of some sort. To reach it you must open doors or teleport to otherwise inaccessible locations. Platforms and light receivers control doors and portals. They are activated by an object standing on top of them or by a laser beam. Some levels will also have patrolling mines which you must avoid.</p>
                <h1>Editor Menu</h1>
                <p>Clicking the pencil icon takes you to the editor menu. You can use this to design your own levels. Hitting save will generate a json representation of the level which you must then copy to the levels.ts file to make the level available in game.</p>
                <p>Feel free to submit your level via a github pull request.</p>
                <p>Clicking on an object will highlight other objects on the map which you can link it to.</p>
                <p>A platform or a light source can be linked to a portal or a door.</p>
                <p>Clicking on a mine and then on another location on the map will construct a patrol path for that mine. Hit that same spot again to remove the path, or click a different spot to change the path.</p>
                <p>To remove an object, click it, then hit delete.</p>
                <p>To test the level hit test and begin playing. You can also kinda play the level as you're making it but hitting test before doing that saves a snapshot of your level which is then restored when you're done playtesting. Hitting test also hides other editor selection options which are unavailable in live games. It also turns on the mines.</p>
                <p>Note that in edit mode you do not get feedback on game ending events (e.g. hitting a mine won't play any sound and won't end the game).</p>
            </div>
            <div id="json-container">
                <p>Copy this json to the levels.ts file</p>
                <textarea onClick="this.select();" id="json-message"></textarea>
            </div>
            <span id="close-container" class="mega-octicon octicon-x"></span>
        </div>
    </div>
    <script src="lib/howler.min.js"></script>
    <script src="lib/script.js"></script>
</body>

</html>
